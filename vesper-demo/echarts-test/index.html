<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <script src="node_modules/echarts/dist/echarts.js"></script>
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <title>统计分析</title>
</head>
<style>
    .container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
    }
</style>
<body>
<div class="container">
    <div id="main" style="width: 100%;height:100%;"></div>
</div>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('main'));
    myChart.showLoading();

    $.get('https://geo.datav.aliyun.com/areas_v2/bound/330100_full.json', function (geoJson) {
        setTimeout(function() {
            myChart.hideLoading();
        }, 300);
        echarts.registerMap('hangzhou', geoJson);


        var data =
            geoJson.features.map(function (geo) {
                return geo.properties
            });
        myChart.setOption({
            backgroundColor: '#020933',
            title: {
                top: 20,
                text: '杭州市数据分析',
                subtext: '',
                x: 'center',
                textStyle: {
                    color: '#ccc'
                }
            },
            geo: {
                top: 50,
                zlevel: 1,
                regions: data,
                label: {
                    normal: {
                        show: true,
                        textStyle: {
                            color: '#fff'
                        }
                    },
                    emphasis: {
                        textStyle: {
                            color: '#fff'
                        }
                    }
                },
                itemStyle: {
                    normal: {
                        borderColor: '#2ab8ff',
                        borderWidth: 1.5,
                        areaColor: '#12235c'
                    },
                    emphasis: {
                        areaColor: '#2AB8FF',
                        color: 'green'
                    }
                },
                zoom: 1.0,
                map: 'hangzhou', //使用
            },
            series: [
                {
                    type: 'map',
                    map: 'hangzhou',
                    silent:true,
                    top: 55,
                    itemStyle: {
                        areaColor: '#2AB8FF',
                        // shadowColor: '#182f68',
                        shadowColor: '#2AB8FF',
                        shadowOffsetY: 5
                    }
                },
                {
                    type: 'scatter',
                    zlevel: 1,
                    coordinateSystem: 'geo',
                    animation: false,
                    itemStyle: {
                        normal: {
                            color: 'red',
                        }
                    },
                    data: [
                            {
                                name: '江干区',
                                value: [120.185, 30.274, 29999]
                            },
                            {
                                name: '拱墅区',
                                value: [120.182, 30.351, 29999]
                            },
                            {
                                name: '西湖区',
                                value: [120.091, 30.27, 29999]
                            },
                            {
                                name: '滨江区',
                                value: [120.21, 30.209, 29999]
                            },
                            {
                                name: '萧山区',
                                value: [120.254, 30.159, 29999]
                            },
                            {
                                name: '余杭区',
                                value: [120.295, 30.427, 29999]
                            },
                            {
                                name: '富阳区',
                                value: [119.956, 30.05, 29999]
                            },
                            {
                                name: '桐庐县',
                                value: [119.675, 29.784, 29999]
                            },
                            {
                                name: '淳安县',
                                value: [119.058, 29.613, 29999]
                            },
                            {
                                name: '建德市',
                                value: [119.28, 29.464, 29999]
                            },
                            {
                                name: '临安区',
                                value: [119.712, 30.227, 29999]
                            },
                            {
                                name: '钱塘新区',
                                value: [120.485, 30.284, 29999]
                            }
                        ]
                }
                // {
                //     type: 'effectScatter',
                //     zlevel: 1,
                //     coordinateSystem: 'geo',
                //     showEffectOn: 'render',
                //     rippleEffect: {
                //         period: 5,
                //         scale: 5,
                //         brushType: 'fill'
                //     },
                //     hoverAnimation: true,
                //     itemStyle: {
                //         normal: {
                //             color: '#ffff',
                //             shadowBlur: 10,
                //             shadowColor: '#333'
                //         }
                //     },
                //     data: [
                //         {
                //             name: '江干区',
                //             value: [120.185, 30.274, 29999]
                //         },
                //         {
                //             name: '拱墅区',
                //             value: [120.182, 30.351, 29999]
                //         },
                //         {
                //             name: '西湖区',
                //             value: [120.091, 30.27, 29999]
                //         },
                //         {
                //             name: '滨江区',
                //             value: [120.21, 30.209, 29999]
                //         },
                //         {
                //             name: '萧山区',
                //             value: [120.254, 30.159, 29999]
                //         },
                //         {
                //             name: '余杭区',
                //             value: [120.295, 30.427, 29999]
                //         },
                //         {
                //             name: '富阳区',
                //             value: [119.956, 30.05, 29999]
                //         },
                //         {
                //             name: '桐庐县',
                //             value: [119.675, 29.784, 29999]
                //         },
                //         {
                //             name: '淳安县',
                //             value: [119.058, 29.613, 29999]
                //         },
                //         {
                //             name: '建德市',
                //             value: [119.28, 29.464, 29999]
                //         },
                //         {
                //             name: '临安区',
                //             value: [119.712, 30.227, 29999]
                //         },
                //         {
                //             name: '钱塘新区',
                //             value: [120.485, 30.284, 29999]
                //         }
                //     ]
                // }
            ]
        });

        myChart.on('click', 'geo',/*{seriesType: 'map'},*/ function(param) {
            console.log(param, param.region.name);
        });
    });
</script>
</body>
</html>